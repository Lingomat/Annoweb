<ng-topbar></ng-topbar>

<md-content class="md-padding">

    <p class="md-title inset">{{'WELCOME' | translate}} <i>{{hCtrl.currentUserName()}}.</i></p>

        <md-list ng-if="hCtrl.getLoginStatus()">
            <md-list-item class="md-3-line" ng-repeat="session in hCtrl.sessionList" ng-click="hCtrl.goStatus($index)">
                    <div ng-style="{ 'background-image': 'url(' + hCtrl.currentUser.files[session.imageIds[0]].url +')' }" class="roundedthumbnails"> </div>
                <div class="md-list-item-text" layout="column">
                    <h3>{{ session.names[0] }} </h3>
                    <h4>{{"HOME_LASTMODIFIED" | translate}}: <i>{{ session.lastModified | date:'yyyy-MM-dd HH:mm:ss Z' }}</i></h4>
                    <!--<p>{{ session.details }}</p>-->
                </div>
            </md-list-item>
        </md-list>

        <div ng-if="!hCtrl.getLoginStatus()">
            <h3>You are not logged in</h3>
            <p>Please log in.</p>
            <md-list>
                <md-list-item class="md-3-line", ng-repeat="user in hCtrl.userList" ng-click="hCtrl.login($index)">
                    <div class="md-list-item-text" layout="column">
                        <h3>{{ user.names[0] }}</h3>
                    </div>
                </md-list-item>
                <md-list-item class="md-3-line" ng-click="hCtrl.createNewUser()">
                    <div layout="center center"> <md-icon class="roundedthumbnails" md-svg-icon="content:add"></md-icon></div>
                    <div class="md-list-item-text" >
                        <h3>{{"HOME_CREATEUSER" | translate}}</h3>
                    </div>
                </md-list-item>
            </md-list>
        </div>

    <md-fab-speed-dial md-open="hCtrl.speedDial" md-direction="up"
                       class="md-scale md-fab-bottom-right">
        <md-fab-trigger>
            <md-button aria-label="menu" class="md-fab md-warn">
                <md-icon md-svg-icon="content:add"></md-icon>
            </md-button>
        </md-fab-trigger>
        <md-fab-actions>
            <md-button aria-label="Record new" class="md-fab md-raised md-mini" ng-click="hCtrl.recordNew()">
                <md-icon md-svg-icon="av:mic" aria-label="Record new"></md-icon>
            </md-button>
            <label aria-label="Load sound file" class="md-fab md-raised md-mini md-button" for="file-input">
                <md-icon md-svg-icon="file:folder_open" aria-label="Load sound file"></md-icon>
            </label>
        </md-fab-actions>
    </md-fab-speed-dial>

</md-content>

